{"version":3,"file":"ionic-rating.js","sources":["ng://ionic-rating/lib/ion-rating.component.ts","ng://ionic-rating/lib/ionic-rating.module.ts"],"sourcesContent":["import {\n  Component,\n  Input,\n  Output,\n  EventEmitter,\n  forwardRef,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  HostListener,\n  OnChanges,\n  SimpleChanges\n} from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\n\n@Component({\n  selector: 'ion-rating',\n  templateUrl: './ion-rating.component.html',\n  styleUrls: ['./ion-rating.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => IonRatingComponent),\n      multi: true\n    }\n  ]\n})\nexport class IonRatingComponent implements ControlValueAccessor, OnChanges {\n  @Input() rate: number;\n  @Input() readonly: boolean;\n  @Input() resettable: boolean;\n  @Input() size: boolean;\n  @Output() hover = new EventEmitter<number>();\n  @Output() leave = new EventEmitter<number>();\n  @Output() rateChange = new EventEmitter<number>();\n  hoverRate: number;\n  disabled: boolean;\n  onChange: (_: number) => void;\n  onTouched: () => void;\n\n  constructor(private cd: ChangeDetectorRef) {}\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes.rate) {\n      this.update(this.rate);\n    }\n  }\n\n  private update(value: number, internalChange = true): void {\n    if (!(this.readonly || this.disabled || this.rate === value)) {\n      this.rate = value;\n      this.rateChange.emit(this.rate);\n    }\n    if (internalChange) {\n      if (this.onChange) {\n        this.onChange(this.rate);\n      }\n      if (this.onTouched) {\n        this.onTouched();\n      }\n    }\n  }\n\n  onClick(rate: number): void {\n    this.update(this.resettable && this.rate === rate ? 0 : rate);\n  }\n\n  onMouseEnter(value: number) {\n    if (!(this.disabled || this.readonly)) {\n      this.hoverRate = value;\n    }\n    this.hover.emit(value);\n  }\n\n  @HostListener('mouseleave', [])\n  onMouseLeave(): void {\n    this.leave.emit(this.hoverRate);\n    this.hoverRate = 0;\n  }\n\n  @HostListener('blur', [])\n  onBlur(): void {\n    if (this.onTouched) {\n      this.onTouched();\n    }\n  }\n\n  writeValue(value: any): void {\n    this.update(value, false);\n    this.cd.markForCheck();\n  }\n\n  registerOnChange(fn: (_: number) => void): void {\n    this.onChange = fn;\n  }\n\n  registerOnTouched(fn: () => void): void {\n    this.onTouched = fn;\n  }\n\n  setDisabledState?(isDisabled: boolean): void {\n    this.disabled = isDisabled;\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { IonRatingComponent } from './ion-rating.component';\n\n@NgModule({\n  imports: [CommonModule, FormsModule, IonicModule],\n  exports: [IonRatingComponent],\n  declarations: [IonRatingComponent]\n})\nexport class IonicRatingModule {}\n"],"names":[],"mappings":"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"}