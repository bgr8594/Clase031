{"version":3,"file":"ionic-rating.umd.js","sources":["ng://ionic-rating/lib/ion-rating.component.ts","ng://ionic-rating/lib/ionic-rating.module.ts"],"sourcesContent":["import {\n  Component,\n  Input,\n  Output,\n  EventEmitter,\n  forwardRef,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  HostListener,\n  OnChanges,\n  SimpleChanges\n} from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\n\n@Component({\n  selector: 'ion-rating',\n  templateUrl: './ion-rating.component.html',\n  styleUrls: ['./ion-rating.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => IonRatingComponent),\n      multi: true\n    }\n  ]\n})\nexport class IonRatingComponent implements ControlValueAccessor, OnChanges {\n  @Input() rate: number;\n  @Input() readonly: boolean;\n  @Input() resettable: boolean;\n  @Input() size: boolean;\n  @Output() hover = new EventEmitter<number>();\n  @Output() leave = new EventEmitter<number>();\n  @Output() rateChange = new EventEmitter<number>();\n  hoverRate: number;\n  disabled: boolean;\n  onChange: (_: number) => void;\n  onTouched: () => void;\n\n  constructor(private cd: ChangeDetectorRef) {}\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes.rate) {\n      this.update(this.rate);\n    }\n  }\n\n  private update(value: number, internalChange = true): void {\n    if (!(this.readonly || this.disabled || this.rate === value)) {\n      this.rate = value;\n      this.rateChange.emit(this.rate);\n    }\n    if (internalChange) {\n      if (this.onChange) {\n        this.onChange(this.rate);\n      }\n      if (this.onTouched) {\n        this.onTouched();\n      }\n    }\n  }\n\n  onClick(rate: number): void {\n    this.update(this.resettable && this.rate === rate ? 0 : rate);\n  }\n\n  onMouseEnter(value: number) {\n    if (!(this.disabled || this.readonly)) {\n      this.hoverRate = value;\n    }\n    this.hover.emit(value);\n  }\n\n  @HostListener('mouseleave', [])\n  onMouseLeave(): void {\n    this.leave.emit(this.hoverRate);\n    this.hoverRate = 0;\n  }\n\n  @HostListener('blur', [])\n  onBlur(): void {\n    if (this.onTouched) {\n      this.onTouched();\n    }\n  }\n\n  writeValue(value: any): void {\n    this.update(value, false);\n    this.cd.markForCheck();\n  }\n\n  registerOnChange(fn: (_: number) => void): void {\n    this.onChange = fn;\n  }\n\n  registerOnTouched(fn: () => void): void {\n    this.onTouched = fn;\n  }\n\n  setDisabledState?(isDisabled: boolean): void {\n    this.disabled = isDisabled;\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { IonRatingComponent } from './ion-rating.component';\n\n@NgModule({\n  imports: [CommonModule, FormsModule, IonicModule],\n  exports: [IonRatingComponent],\n  declarations: [IonRatingComponent]\n})\nexport class IonicRatingModule {}\n"],"names":["EventEmitter","Component","ChangeDetectionStrategy","NG_VALUE_ACCESSOR","forwardRef","ChangeDetectorRef","Input","Output","HostListener","NgModule","CommonModule","FormsModule","IonicModule"],"mappings":"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"}